import{s as pe,n as le,r as me,a as Y,o as de}from"../chunks/COSaXkqD.js";import{S as _e,i as be,d as q,a as Z,k as c,z as h,A as $,j as ge,b as K,l as g,B as te,c as E,f as V,e as W,m as J,h as B,s as z,t as L,g as we}from"../chunks/CVfcls_3.js";import{e as T}from"../chunks/D6YF6ztN.js";import{w as ve}from"../chunks/u8TK3puO.js";import{b as ye}from"../chunks/BDndoSxU.js";const Ie=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,ke=(window==null?void 0:window.localStorage.getItem("highscore"))??"",Pe=ve(ke);Pe.subscribe(o=>{window==null||window.localStorage.setItem("users",o)});const{window:se}=Ie;function oe(o,e,r){const t=o.slice();return t[28]=e[r],t}function re(o,e,r){const t=o.slice();return t[31]=e[r],t}function ne(o,e,r){const t=o.slice();return t[34]=e[r],t}function ie(o,e,r){const t=o.slice();return t[37]=e[r],t}function ae(o){let e,r,t;return{c(){e=B("img"),this.h()},l(n){e=E(n,"IMG",{src:!0,alt:!0,id:!0,class:!0,style:!0}),this.h()},h(){Y(e.src,r=Be)||c(e,"src",r),c(e,"alt","press"),c(e,"id",t="press"+o[37].pressPos),c(e,"class","press svelte-eqs7oe"),h(e,"bottom",o[37].Bottom+"px"),h(e,"left",o[37].pressPos/3*100+"%"),h(e,"width",100/3+"vw"),$(e,"active",o[37].pressPos==o[3])},m(n,u){K(n,e,u)},p(n,u){u[0]&4&&t!==(t="press"+n[37].pressPos)&&c(e,"id",t),u[0]&4&&h(e,"bottom",n[37].Bottom+"px"),u[0]&4&&h(e,"left",n[37].pressPos/3*100+"%"),u[0]&12&&$(e,"active",n[37].pressPos==n[3])},d(n){n&&q(e)}}}function he(o){let e,r;return{c(){e=B("img"),this.h()},l(t){e=E(t,"IMG",{src:!0,alt:!0,class:!0,style:!0}),this.h()},h(){Y(e.src,r="assets/object/"+o[34].type+"Object.png")||c(e,"src",r),c(e,"alt",""),c(e,"class","object svelte-eqs7oe"),h(e,"left",o[34].x+"px"),h(e,"top",o[34].y+"px"),h(e,"width",48*o[4]/762+"px"),h(e,"height",48*o[4]/762)},m(t,n){K(t,e,n)},p(t,n){n[0]&64&&!Y(e.src,r="assets/object/"+t[34].type+"Object.png")&&c(e,"src",r),n[0]&64&&h(e,"left",t[34].x+"px"),n[0]&64&&h(e,"top",t[34].y+"px"),n[0]&16&&h(e,"width",48*t[4]/762+"px"),n[0]&16&&h(e,"height",48*t[4]/762)},d(t){t&&q(e)}}}function ce(o){let e,r,t;function n(){return o[12](o[31])}return{c(){e=B("div"),this.h()},l(u){e=E(u,"DIV",{style:!0,class:!0}),V(e).forEach(q),this.h()},h(){h(e,"width",o[4]/20+"px"),h(e,"height",o[4]/20+"px"),h(e,"left",o[31].x+"px"),h(e,"bottom",o[5]+o[4]/9+"px"),h(e,"background-color",o[31].color),c(e,"class","bullet svelte-eqs7oe")},m(u,_){K(u,e,_),r||(t=te(e,"animationend",n),r=!0)},p(u,_){o=u,_[0]&16&&h(e,"width",o[4]/20+"px"),_[0]&16&&h(e,"height",o[4]/20+"px"),_[0]&128&&h(e,"left",o[31].x+"px"),_[0]&48&&h(e,"bottom",o[5]+o[4]/9+"px"),_[0]&128&&h(e,"background-color",o[31].color)},d(u){u&&q(e),r=!1,t()}}}function ue(o){let e,r;return{c(){e=B("img"),this.h()},l(t){e=E(t,"IMG",{src:!0,alt:!0,class:!0,style:!0}),this.h()},h(){Y(e.src,r=qe)||c(e,"src",r),c(e,"alt","health item"),c(e,"class","heart svelte-eqs7oe"),h(e,"width",64*o[4]/762+"px"),h(e,"height",64*o[4]/762)},m(t,n){K(t,e,n)},p(t,n){n[0]&16&&h(e,"width",64*t[4]/762+"px"),n[0]&16&&h(e,"height",64*t[4]/762)},d(t){t&&q(e)}}}function fe(o){let e,r,t,n,u,_,m,S="Tillbaka till startsidan";return{c(){e=B("div"),r=B("p"),t=L("Du fick "),n=L(o[8]),u=L(" po채ng"),_=z(),m=B("a"),m.textContent=S,this.h()},l(v){e=E(v,"DIV",{id:!0,class:!0});var f=V(e);r=E(f,"P",{});var y=V(r);t=J(y,"Du fick "),n=J(y,o[8]),u=J(y," po채ng"),y.forEach(q),_=W(f),m=E(f,"A",{href:!0,id:!0,class:!0,"data-svelte-h":!0}),we(m)!=="svelte-1aii0iu"&&(m.textContent=S),f.forEach(q),this.h()},h(){c(m,"href",ye+"/"),c(m,"id","gameOverButton"),c(m,"class","svelte-eqs7oe"),c(e,"id","gameOver"),c(e,"class","svelte-eqs7oe")},m(v,f){K(v,e,f),g(e,r),g(r,t),g(r,n),g(r,u),g(e,_),g(e,m)},p(v,f){f[0]&256&&ge(n,v[8])},d(v){v&&q(e)}}}function Ee(o){let e,r,t,n,u,_,m,S,v,f,y,x,k,M,j,F,H,C,Q,X,U,G=T(o[2]),b=[];for(let s=0;s<G.length;s+=1)b[s]=ae(ie(o,G,s));let O=T(o[6]),d=[];for(let s=0;s<O.length;s+=1)d[s]=he(ne(o,O,s));let A=T(o[7]),w=[];for(let s=0;s<A.length;s+=1)w[s]=ce(re(o,A,s));let D=T(Array(o[0].health)),I=[];for(let s=0;s<D.length;s+=1)I[s]=ue(oe(o,D,s));let a=o[9]&&fe(o);return{c(){e=B("main"),r=B("div");for(let s=0;s<b.length;s+=1)b[s].c();t=z(),n=B("img"),_=z(),m=B("div");for(let s=0;s<d.length;s+=1)d[s].c();S=z(),v=B("div");for(let s=0;s<w.length;s+=1)w[s].c();f=z(),y=B("div");for(let s=0;s<I.length;s+=1)I[s].c();x=z(),k=B("p"),M=L("Po채ng: "),j=L(o[8]),F=z(),a&&a.c(),H=z(),C=B("img"),this.h()},l(s){e=E(s,"MAIN",{class:!0});var i=V(e);r=E(i,"DIV",{id:!0,class:!0});var l=V(r);for(let P=0;P<b.length;P+=1)b[P].l(l);l.forEach(q),t=W(i),n=E(i,"IMG",{src:!0,alt:!0,id:!0,style:!0,class:!0}),_=W(i),m=E(i,"DIV",{});var p=V(m);for(let P=0;P<d.length;P+=1)d[P].l(p);p.forEach(q),S=W(i),v=E(i,"DIV",{});var N=V(v);for(let P=0;P<w.length;P+=1)w[P].l(N);N.forEach(q),f=W(i),y=E(i,"DIV",{id:!0,class:!0});var ee=V(y);for(let P=0;P<I.length;P+=1)I[P].l(ee);ee.forEach(q),x=W(i),k=E(i,"P",{id:!0,class:!0});var R=V(k);M=J(R,"Po채ng: "),j=J(R,o[8]),R.forEach(q),F=W(i),a&&a.l(i),H=W(i),C=E(i,"IMG",{src:!0,alt:!0,id:!0,class:!0}),i.forEach(q),this.h()},h(){c(r,"id","presses"),c(r,"class","svelte-eqs7oe"),Y(n.src,u="assets/player/player"+(o[0].state+o[0].image)+".png")||c(n,"src",u),c(n,"alt","player"),c(n,"id","player"),h(n,"left",o[0].x+"px"),h(n,"bottom",o[5]+o[4]/9+"px"),h(n,"width",80*o[4]/762+"px"),h(n,"height",80*o[4]/762+"px"),c(n,"class","svelte-eqs7oe"),$(n,"strech",o[1]==!0),c(y,"id","hearts"),c(y,"class","svelte-eqs7oe"),c(k,"id","poang"),c(k,"class","svelte-eqs7oe"),Y(C.src,Q=Se)||c(C,"src",Q),c(C,"alt","The background"),c(C,"id","backGroundImage"),c(C,"class","svelte-eqs7oe"),c(e,"class","svelte-eqs7oe")},m(s,i){K(s,e,i),g(e,r);for(let l=0;l<b.length;l+=1)b[l]&&b[l].m(r,null);g(e,t),g(e,n),g(e,_),g(e,m);for(let l=0;l<d.length;l+=1)d[l]&&d[l].m(m,null);g(e,S),g(e,v);for(let l=0;l<w.length;l+=1)w[l]&&w[l].m(v,null);g(e,f),g(e,y);for(let l=0;l<I.length;l+=1)I[l]&&I[l].m(y,null);g(e,x),g(e,k),g(k,M),g(k,j),g(e,F),a&&a.m(e,null),g(e,H),g(e,C),X||(U=[te(se,"keydown",o[10]),te(se,"keyup",o[11])],X=!0)},p(s,i){if(i[0]&12){G=T(s[2]);let l;for(l=0;l<G.length;l+=1){const p=ie(s,G,l);b[l]?b[l].p(p,i):(b[l]=ae(p),b[l].c(),b[l].m(r,null))}for(;l<b.length;l+=1)b[l].d(1);b.length=G.length}if(i[0]&1&&!Y(n.src,u="assets/player/player"+(s[0].state+s[0].image)+".png")&&c(n,"src",u),i[0]&1&&h(n,"left",s[0].x+"px"),i[0]&48&&h(n,"bottom",s[5]+s[4]/9+"px"),i[0]&16&&h(n,"width",80*s[4]/762+"px"),i[0]&16&&h(n,"height",80*s[4]/762+"px"),i[0]&2&&$(n,"strech",s[1]==!0),i[0]&80){O=T(s[6]);let l;for(l=0;l<O.length;l+=1){const p=ne(s,O,l);d[l]?d[l].p(p,i):(d[l]=he(p),d[l].c(),d[l].m(m,null))}for(;l<d.length;l+=1)d[l].d(1);d.length=O.length}if(i[0]&176){A=T(s[7]);let l;for(l=0;l<A.length;l+=1){const p=re(s,A,l);w[l]?w[l].p(p,i):(w[l]=ce(p),w[l].c(),w[l].m(v,null))}for(;l<w.length;l+=1)w[l].d(1);w.length=A.length}if(i[0]&17){D=T(Array(s[0].health));let l;for(l=0;l<D.length;l+=1){const p=oe(s,D,l);I[l]?I[l].p(p,i):(I[l]=ue(p),I[l].c(),I[l].m(y,null))}for(;l<I.length;l+=1)I[l].d(1);I.length=D.length}i[0]&256&&ge(j,s[8]),s[9]?a?a.p(s,i):(a=fe(s),a.c(),a.m(e,H)):a&&(a.d(1),a=null)},i:le,o:le,d(s){s&&q(e),Z(b,s),Z(d,s),Z(w,s),Z(I,s),a&&a.d(),X=!1,me(U)}}}let Be="assets/press.png",qe="assets/heart.png",Se="assets/background3.png";function Me(o,e,r){let t={x:100,vxl:0,vxr:0,speed:7,health:6,states:["Green","Yellow","Orange","Red"],state:"Green",image:1},n,u,_=!0,m=!1,S=[{pressPos:0,Bottom:640},{pressPos:1,Bottom:640},{pressPos:2,Bottom:640}],v=1,f,y,x,k=[],M=["Green","Orange","Red"],j=[],F=!0,H=0,C=!1;function Q(a){switch(r(0,t.speed=4*f/762,t),a.keyCode){case 39:case 68:{r(0,t.vxr=t.speed,t);break}case 37:case 65:{r(0,t.vxl=t.speed,t);break}case 32:w()}}function X(a){switch(a.keyCode){case 39:case 68:{r(0,t.vxr=0,t);break}case 37:case 65:{r(0,t.vxl=0,t);break}}}function U(){n=Number(window.getComputedStyle(document.getElementById("player")).getPropertyValue("width").slice(0,-2)),u=Number(window.getComputedStyle(document.getElementById("player")).getPropertyValue("bottom").slice(0,-2)),t.x<=0?r(0,t.x=0,t):r(0,t.x+=t.vxr-t.vxl,t),t.x>window.innerWidth-n?r(0,t.x=window.innerWidth-n,t):r(0,t.x+=t.vxr-t.vxl,t),requestAnimationFrame(U)}function G(){for(let a of S){let s=Number(window.getComputedStyle(document.getElementById("press"+a.pressPos.toString())).getPropertyValue("left").slice(0,-2)),i=Number(window.getComputedStyle(document.getElementById("press"+a.pressPos.toString())).getPropertyValue("width").slice(0,-2)),l=Number(window.getComputedStyle(document.getElementById("press"+a.pressPos.toString())).getPropertyValue("bottom").slice(0,-2));t.x+n>s&&t.x<s+i&&u+Number(n)>=l&&b()}requestAnimationFrame(G)}function b(){t.health>0&&_==!0?(_=!1,r(1,m=!0),r(0,t.health-=1,t),setTimeout(()=>(_=!0,r(1,m=!1)),2e3)):t.health==0&&r(9,C=!0)}function O(){t.image==1?r(0,t.image=2,t):r(0,t.image=1,t)}setInterval(O,500);function d(){r(4,f=parseInt(window.getComputedStyle(document.getElementById("backGroundImage")).getPropertyValue("height").slice(0,-2))),x=window.innerHeight-64,r(5,y=x-f),r(3,v=Math.round(Math.random()*S.length));for(let a of S)a.pressPos==v?a.Bottom=y+f/9+2:a.Bottom=y+f*.7;r(2,S=[...S])}function A(){if(k.length<10){let a=Math.round(Math.random()*window.innerWidth),s=Math.round(Math.random()*f),i=Math.round(Math.random()*2),l;a>window.innerWidth-50*f/762&&(a-=128),s<128&&(s+=128),s>f*.65&&(s-=172),i==0?l="Green":i==1?l="Orange":l="Red";let p={type:l,x:a,y:s,moved:!1};r(6,k=[...k,p])}}function w(){if(F==!0){F=!1;let a=Number(window.getComputedStyle(document.getElementById("player")).getPropertyValue("left").slice(0,-2))+n/2-f/40;const s=Date.now();r(7,j=[...j,{id:s,color:M[0],x:a}]),M.shift(),r(0,t.state=M[0],t);let i=Math.round(Math.random()*2);i==0?M=[...M,"Green"]:i==1?M=[...M,"Orange"]:M=[...M,"Red"],setTimeout(()=>F=!0,2e3)}}function D(){const a=document.querySelectorAll(".bullet"),s=document.querySelectorAll(".object");for(let i=j.length-1;i>=0;i--){const p=a[i].getBoundingClientRect();for(let N=k.length-1;N>=0;N--){const R=s[N].getBoundingClientRect();if(p.left<R.right&&p.right>R.left&&p.top<R.bottom&&p.bottom>R.top&&j[i].color===k[N].type&&C==!1){r(8,H+=1),j.splice(i,1),k.splice(N,1);break}}}requestAnimationFrame(D)}return de(()=>{d(),setInterval(d,2500),setInterval(()=>A(),100),G(),U(),D()}),[t,m,S,v,f,y,k,j,H,C,Q,X,a=>r(7,j=j.filter(s=>s.id!==a.id))]}class Oe extends _e{constructor(e){super(),be(this,e,Me,Ee,pe,{},null,[-1,-1])}}export{Oe as component};
