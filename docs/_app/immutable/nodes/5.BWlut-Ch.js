import{s as J,n as F,r as L,d as C,o as Q}from"../chunks/BF6bCPMk.js";import{S as Z,i as $,d as b,a as K,j as ee,A as M,k as h,z as f,b as A,l as y,B as X,c as I,f as S,m as se,e as q,h as k,t as te,s as W}from"../chunks/D68XkuEI.js";import{e as z}from"../chunks/D6YF6ztN.js";const le=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,{window:N}=le;function O(o,t,r){const n=o.slice();return n[15]=t[r],n}function R(o,t,r){const n=o.slice();return n[18]=t[r],n}function U(o){let t,r,n;return{c(){t=k("img"),this.h()},l(e){t=I(e,"IMG",{src:!0,alt:!0,id:!0,class:!0,style:!0}),this.h()},h(){C(t.src,r=oe)||h(t,"src",r),h(t,"alt","press"),h(t,"id",n="press"+o[18].pressPos),h(t,"class","press svelte-1e7gj88"),f(t,"bottom",o[18].Bottom+"px"),f(t,"left",o[18].pressPos/3*100+"%"),f(t,"width",100/3+"vw"),M(t,"active",o[18].pressPos==o[2])},m(e,u){A(e,t,u)},p(e,u){u&2&&n!==(n="press"+e[18].pressPos)&&h(t,"id",n),u&2&&f(t,"bottom",e[18].Bottom+"px"),u&2&&f(t,"left",e[18].pressPos/3*100+"%"),u&6&&M(t,"active",e[18].pressPos==e[2])},d(e){e&&b(t)}}}function Y(o){let t,r;return{c(){t=k("img"),this.h()},l(n){t=I(n,"IMG",{src:!0,alt:!0,class:!0,style:!0}),this.h()},h(){C(t.src,r=ae)||h(t,"src",r),h(t,"alt","health item"),h(t,"class","heart svelte-1e7gj88"),f(t,"width",64*o[3]/762+"px"),f(t,"height","64*"+o[3]/762)},m(n,e){A(n,t,e)},p(n,e){e&8&&f(t,"width",64*n[3]/762+"px"),e&8&&f(t,"height","64*"+n[3]/762)},d(n){n&&b(t)}}}function re(o){let t,r,n,e,u,g,w,i,B,j,m,T,D,_,E,V,P=z(o[1]),a=[];for(let s=0;s<P.length;s+=1)a[s]=U(R(o,P,s));let d=z(Array(o[0].health)),c=[];for(let s=0;s<d.length;s+=1)c[s]=Y(O(o,d,s));return{c(){t=k("p"),r=te(o[6]),n=W(),e=k("main"),u=k("div"),g=k("div");for(let s=0;s<a.length;s+=1)a[s].c();w=W(),i=k("img"),j=W(),m=k("img"),D=W(),_=k("div");for(let s=0;s<c.length;s+=1)c[s].c();this.h()},l(s){t=I(s,"P",{class:!0});var p=S(t);r=se(p,o[6]),p.forEach(b),n=q(s),e=I(s,"MAIN",{class:!0});var l=S(e);u=I(l,"DIV",{});var v=S(u);g=I(v,"DIV",{id:!0,class:!0});var H=S(g);for(let G=0;G<a.length;G+=1)a[G].l(H);H.forEach(b),w=q(v),i=I(v,"IMG",{src:!0,alt:!0,id:!0,style:!0,class:!0}),v.forEach(b),j=q(l),m=I(l,"IMG",{src:!0,alt:!0,id:!0,class:!0}),D=q(l),_=I(l,"DIV",{id:!0,class:!0});var x=S(_);for(let G=0;G<c.length;G+=1)c[G].l(x);x.forEach(b),l.forEach(b),this.h()},h(){h(t,"class","countDown svelte-1e7gj88"),M(t,"hide",o[6]==0),h(g,"id","presses"),h(g,"class","svelte-1e7gj88"),C(i.src,B=o[7][o[0].image])||h(i,"src",B),h(i,"alt","player"),h(i,"id","player"),f(i,"left",o[0].x+"px"),f(i,"bottom",o[4]+o[3]/9+"px"),f(i,"width",80*o[3]/762+"px"),f(i,"height",80*o[3]/762+"px"),h(i,"class","svelte-1e7gj88"),C(m.src,T=ne)||h(m,"src",T),h(m,"alt","The background"),h(m,"id","backGroundImage"),h(m,"class","svelte-1e7gj88"),h(_,"id","hearts"),h(_,"class","svelte-1e7gj88"),h(e,"class","svelte-1e7gj88"),M(e,"hide",o[5])},m(s,p){A(s,t,p),y(t,r),A(s,n,p),A(s,e,p),y(e,u),y(u,g);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(g,null);y(u,w),y(u,i),y(e,j),y(e,m),y(e,D),y(e,_);for(let l=0;l<c.length;l+=1)c[l]&&c[l].m(_,null);E||(V=[X(N,"keydown",o[8]),X(N,"keyup",o[9])],E=!0)},p(s,[p]){if(p&64&&ee(r,s[6]),p&64&&M(t,"hide",s[6]==0),p&6){P=z(s[1]);let l;for(l=0;l<P.length;l+=1){const v=R(s,P,l);a[l]?a[l].p(v,p):(a[l]=U(v),a[l].c(),a[l].m(g,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=P.length}if(p&1&&!C(i.src,B=s[7][s[0].image])&&h(i,"src",B),p&1&&f(i,"left",s[0].x+"px"),p&24&&f(i,"bottom",s[4]+s[3]/9+"px"),p&8&&f(i,"width",80*s[3]/762+"px"),p&8&&f(i,"height",80*s[3]/762+"px"),p&9){d=z(Array(s[0].health));let l;for(l=0;l<d.length;l+=1){const v=O(s,d,l);c[l]?c[l].p(v,p):(c[l]=Y(v),c[l].c(),c[l].m(_,null))}for(;l<c.length;l+=1)c[l].d(1);c.length=d.length}p&32&&M(e,"hide",s[5])},i:F,o:F,d(s){s&&(b(t),b(n),b(e)),K(a,s),K(c,s),E=!1,L(V)}}}let oe="assets/press.png",ae="assets/heart.png",ne="assets/background3.png";function ie(o,t,r){let n=[],e={x:100,vxl:0,vxr:0,speed:4,health:5,states:["Green","Yellow","Orange","Red"],state:"Green",image:0},u=[{pressPos:0,Bottom:640},{pressPos:1,Bottom:640},{pressPos:2,Bottom:640}],g=1,w,i,B,j=!0,m=3;for(let a of e.states)for(let d=1;d<=2;d++)n.push("assets/player/player"+a+d.toString()+".png");function T(a){switch(r(0,e.speed=4*w/762,e),a.keyCode){case 39:case 68:{r(0,e.vxr=e.speed,e);break}case 37:case 65:{r(0,e.vxl=e.speed,e);break}}}function D(a){switch(a.keyCode){case 39:case 68:{r(0,e.vxr=0,e);break}case 37:case 65:{r(0,e.vxl=0,e);break}}}function _(){e.x<=0?r(0,e.x=0,e):r(0,e.x+=e.vxr-e.vxl,e),e.x>window.innerWidth-100?r(0,e.x=window.innerWidth-100,e):r(0,e.x+=e.vxr-e.vxl,e),requestAnimationFrame(_)}function E(){let a=window.getComputedStyle(document.getElementById("player")),d=512,c=96;for(let s of u)window.getComputedStyle(document.getElementById("press"+s.pressPos)),a.getPropertyValue("left")<s.pressPos*(window.innerWidth/3)&&a.getPropertyValue("left")+c>s.pressPos*(window.innerWidth/3+d)&&console.log("dead");requestAnimationFrame(E)}Q(()=>{_(),E()});function V(){e.image==1?r(0,e.image=0,e):r(0,e.image=1,e)}setInterval(V,500);function P(){r(5,j=!1),r(3,w=parseInt(window.getComputedStyle(document.getElementById("backGroundImage")).getPropertyValue("height").slice(0,-2))),B=window.innerHeight-64,r(4,i=B-w),r(2,g=Math.round(Math.random()*2));for(let a of u)a.pressPos==g?a.Bottom=i+w/9+2:a.Bottom=i+w*.7;r(1,u=[...u])}return setInterval(P,2500),setTimeout(()=>{r(6,m-=1),setTimeout(()=>{r(6,m-=1),setTimeout(()=>{r(6,m-=1)},2500/3)},2500/3)},2500/3),[e,u,g,w,i,j,m,n,T,D]}class pe extends Z{constructor(t){super(),$(this,t,ie,re,J,{})}}export{pe as component};
